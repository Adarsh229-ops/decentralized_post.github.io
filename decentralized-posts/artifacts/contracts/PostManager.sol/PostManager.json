{
  "_format": "hh-sol-artifact-1",
  "contractName": "PostManager",
  "sourceName": "contracts/PostManager.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "postId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "PostCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "postId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "voter",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "int8",
          "name": "vote",
          "type": "int8"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "newRating",
          "type": "int256"
        }
      ],
      "name": "PostVoted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "createPost",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "postId",
          "type": "uint256"
        }
      ],
      "name": "downvotePost",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllPosts",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "creator",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "int256",
              "name": "rating",
              "type": "int256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            }
          ],
          "internalType": "struct PostManager.Post[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "postId",
          "type": "uint256"
        }
      ],
      "name": "getPost",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "creator",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "int256",
              "name": "rating",
              "type": "int256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            }
          ],
          "internalType": "struct PostManager.Post",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "postId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserVote",
      "outputs": [
        {
          "internalType": "int8",
          "name": "",
          "type": "int8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextPostId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "posts",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "internalType": "int256",
          "name": "rating",
          "type": "int256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "postId",
          "type": "uint256"
        }
      ],
      "name": "upvotePost",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userVotes",
      "outputs": [
        {
          "internalType": "int8",
          "name": "",
          "type": "int8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610d67806100206000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c80635c09bd98116100665780635c09bd98146101425780638d2f826814610159578063c7303c611461016e578063da5ce81114610181578063fe5b3e3b1461019457600080fd5b806303c7881a146100985780630b1e7f83146100e8578063305611001461010d57806340731c2414610122575b600080fd5b6100d06100a636600461088f565b60009182526001602090815260408084206001600160a01b03939093168452919052812054900b90565b60405160009190910b81526020015b60405180910390f35b6100fb6100f63660046108cb565b6101c1565b6040516100df9695949392919061092a565b61011561028d565b6040516100df91906109d1565b6101356101303660046108cb565b6104f3565b6040516100df9190610a33565b61014b60025481565b6040519081526020016100df565b61016c6101673660046108cb565b610629565b005b61014b61017c366004610a63565b610668565b61016c61018f3660046108cb565b61076b565b6100d06101a236600461088f565b6001602090815260009283526040808420909152908252812054900b81565b60006020819052908152604090208054600182015460028301805492936001600160a01b03909216926101f390610b14565b80601f016020809104026020016040519081016040528092919081815260200182805461021f90610b14565b801561026c5780601f106102415761010080835404028352916020019161026c565b820191906000526020600020905b81548152906001019060200180831161024f57829003601f168201915b50505050600383015460048401546005909401549293909290915060ff1686565b6060600060025467ffffffffffffffff8111156102ac576102ac610a4d565b6040519080825280602002602001820160405280156102e557816020015b6102d261084e565b8152602001906001900390816102ca5790505b5090506000805b60025481101561043e5760008181526020819052604090206005015460ff161561042c5760008181526020818152604091829020825160c0810184528154815260018201546001600160a01b031692810192909252600281018054929391929184019161035890610b14565b80601f016020809104026020016040519081016040528092919081815260200182805461038490610b14565b80156103d15780601f106103a6576101008083540402835291602001916103d1565b820191906000526020600020905b8154815290600101906020018083116103b457829003601f168201915b5050509183525050600382015460208201526004820154604082015260059091015460ff161515606090910152835184908490811061041257610412610b4e565b6020026020010181905250818061042890610b7a565b9250505b8061043681610b7a565b9150506102ec565b5060008167ffffffffffffffff81111561045a5761045a610a4d565b60405190808252806020026020018201604052801561049357816020015b61048061084e565b8152602001906001900390816104785790505b50905060005b828110156104eb578381815181106104b3576104b3610b4e565b60200260200101518282815181106104cd576104cd610b4e565b602002602001018190525080806104e390610b7a565b915050610499565b509392505050565b6104fb61084e565b60008281526020819052604090206005015460ff166105355760405162461bcd60e51b815260040161052c90610b93565b60405180910390fd5b60008281526020818152604091829020825160c0810184528154815260018201546001600160a01b031692810192909252600281018054929391929184019161057d90610b14565b80601f01602080910402602001604051908101604052809291908181526020018280546105a990610b14565b80156105f65780601f106105cb576101008083540402835291602001916105f6565b820191906000526020600020905b8154815290600101906020018083116105d957829003601f168201915b5050509183525050600382015460208201526004820154604082015260059091015460ff16151560609091015292915050565b60008181526020819052604090206005015460ff1661065a5760405162461bcd60e51b815260040161052c90610b93565b6106658160016107a4565b50565b600280546000918291908261067c83610b7a565b909155506040805160c081018252828152336020808301918252828401888152600060608501819052426080860152600160a08601819052878252928190529490942083518155915190820180546001600160a01b0319166001600160a01b0390921691909117905591519293509160028201906106fa9082610c0f565b50606082015160038201556080820151600482015560a0909101516005909101805460ff1916911515919091179055604051339082907f8e40a51278abe2f4b410c0a96ff0bdd024b22666ca334062bf72afd596984bd69061075d908790610ccf565b60405180910390a392915050565b60008181526020819052604090206005015460ff1661079c5760405162461bcd60e51b815260040161052c90610b93565b610665816000195b60008281526001602090815260408083203384528252808320805460ff861660ff198216179091558584529183905282206003015490820b9183900b906107ec908390610ce2565b6107f69190610d09565b60008481526020818152604080832060030184905580519286900b835290820192909252339185917f7440ed6716a04391aa4b8da8eecc577bc21a92ced85f868bcb2445a3fe18758e910160405180910390a3505050565b6040518060c001604052806000815260200160006001600160a01b031681526020016060815260200160008152602001600081526020016000151581525090565b600080604083850312156108a257600080fd5b8235915060208301356001600160a01b03811681146108c057600080fd5b809150509250929050565b6000602082840312156108dd57600080fd5b5035919050565b6000815180845260005b8181101561090a576020818501810151868301820152016108ee565b506000602082860101526020601f19601f83011685010191505092915050565b8681526001600160a01b038616602082015260c060408201819052600090610954908301876108e4565b6060830195909552506080810192909252151560a0909101529392505050565b8051825260018060a01b0360208201511660208301526000604082015160c060408501526109a560c08501826108e4565b9050606083015160608501526080830151608085015260a0830151151560a08501528091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610a2657603f19888603018452610a14858351610974565b945092850192908501906001016109f8565b5092979650505050505050565b602081526000610a466020830184610974565b9392505050565b634e487b7160e01b600052604160045260246000fd5b600060208284031215610a7557600080fd5b813567ffffffffffffffff80821115610a8d57600080fd5b818401915084601f830112610aa157600080fd5b813581811115610ab357610ab3610a4d565b604051601f8201601f19908116603f01168101908382118183101715610adb57610adb610a4d565b81604052828152876020848701011115610af457600080fd5b826020860160208301376000928101602001929092525095945050505050565b600181811c90821680610b2857607f821691505b602082108103610b4857634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600060018201610b8c57610b8c610b64565b5060010190565b602080825260139082015272141bdcdd08191bd95cc81b9bdd08195e1a5cdd606a1b604082015260600190565b601f821115610c0a57600081815260208120601f850160051c81016020861015610be75750805b601f850160051c820191505b81811015610c0657828155600101610bf3565b5050505b505050565b815167ffffffffffffffff811115610c2957610c29610a4d565b610c3d81610c378454610b14565b84610bc0565b602080601f831160018114610c725760008415610c5a5750858301515b600019600386901b1c1916600185901b178555610c06565b600085815260208120601f198616915b82811015610ca157888601518255948401946001909101908401610c82565b5085821015610cbf5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081526000610a4660208301846108e4565b8181036000831280158383131683831282161715610d0257610d02610b64565b5092915050565b8082018281126000831280158216821582161715610d2957610d29610b64565b50509291505056fea2646970667358221220e4c1b34881f3efba2664b737bd40698a6c18317180921db8a4f08b2a910db17164736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c80635c09bd98116100665780635c09bd98146101425780638d2f826814610159578063c7303c611461016e578063da5ce81114610181578063fe5b3e3b1461019457600080fd5b806303c7881a146100985780630b1e7f83146100e8578063305611001461010d57806340731c2414610122575b600080fd5b6100d06100a636600461088f565b60009182526001602090815260408084206001600160a01b03939093168452919052812054900b90565b60405160009190910b81526020015b60405180910390f35b6100fb6100f63660046108cb565b6101c1565b6040516100df9695949392919061092a565b61011561028d565b6040516100df91906109d1565b6101356101303660046108cb565b6104f3565b6040516100df9190610a33565b61014b60025481565b6040519081526020016100df565b61016c6101673660046108cb565b610629565b005b61014b61017c366004610a63565b610668565b61016c61018f3660046108cb565b61076b565b6100d06101a236600461088f565b6001602090815260009283526040808420909152908252812054900b81565b60006020819052908152604090208054600182015460028301805492936001600160a01b03909216926101f390610b14565b80601f016020809104026020016040519081016040528092919081815260200182805461021f90610b14565b801561026c5780601f106102415761010080835404028352916020019161026c565b820191906000526020600020905b81548152906001019060200180831161024f57829003601f168201915b50505050600383015460048401546005909401549293909290915060ff1686565b6060600060025467ffffffffffffffff8111156102ac576102ac610a4d565b6040519080825280602002602001820160405280156102e557816020015b6102d261084e565b8152602001906001900390816102ca5790505b5090506000805b60025481101561043e5760008181526020819052604090206005015460ff161561042c5760008181526020818152604091829020825160c0810184528154815260018201546001600160a01b031692810192909252600281018054929391929184019161035890610b14565b80601f016020809104026020016040519081016040528092919081815260200182805461038490610b14565b80156103d15780601f106103a6576101008083540402835291602001916103d1565b820191906000526020600020905b8154815290600101906020018083116103b457829003601f168201915b5050509183525050600382015460208201526004820154604082015260059091015460ff161515606090910152835184908490811061041257610412610b4e565b6020026020010181905250818061042890610b7a565b9250505b8061043681610b7a565b9150506102ec565b5060008167ffffffffffffffff81111561045a5761045a610a4d565b60405190808252806020026020018201604052801561049357816020015b61048061084e565b8152602001906001900390816104785790505b50905060005b828110156104eb578381815181106104b3576104b3610b4e565b60200260200101518282815181106104cd576104cd610b4e565b602002602001018190525080806104e390610b7a565b915050610499565b509392505050565b6104fb61084e565b60008281526020819052604090206005015460ff166105355760405162461bcd60e51b815260040161052c90610b93565b60405180910390fd5b60008281526020818152604091829020825160c0810184528154815260018201546001600160a01b031692810192909252600281018054929391929184019161057d90610b14565b80601f01602080910402602001604051908101604052809291908181526020018280546105a990610b14565b80156105f65780601f106105cb576101008083540402835291602001916105f6565b820191906000526020600020905b8154815290600101906020018083116105d957829003601f168201915b5050509183525050600382015460208201526004820154604082015260059091015460ff16151560609091015292915050565b60008181526020819052604090206005015460ff1661065a5760405162461bcd60e51b815260040161052c90610b93565b6106658160016107a4565b50565b600280546000918291908261067c83610b7a565b909155506040805160c081018252828152336020808301918252828401888152600060608501819052426080860152600160a08601819052878252928190529490942083518155915190820180546001600160a01b0319166001600160a01b0390921691909117905591519293509160028201906106fa9082610c0f565b50606082015160038201556080820151600482015560a0909101516005909101805460ff1916911515919091179055604051339082907f8e40a51278abe2f4b410c0a96ff0bdd024b22666ca334062bf72afd596984bd69061075d908790610ccf565b60405180910390a392915050565b60008181526020819052604090206005015460ff1661079c5760405162461bcd60e51b815260040161052c90610b93565b610665816000195b60008281526001602090815260408083203384528252808320805460ff861660ff198216179091558584529183905282206003015490820b9183900b906107ec908390610ce2565b6107f69190610d09565b60008481526020818152604080832060030184905580519286900b835290820192909252339185917f7440ed6716a04391aa4b8da8eecc577bc21a92ced85f868bcb2445a3fe18758e910160405180910390a3505050565b6040518060c001604052806000815260200160006001600160a01b031681526020016060815260200160008152602001600081526020016000151581525090565b600080604083850312156108a257600080fd5b8235915060208301356001600160a01b03811681146108c057600080fd5b809150509250929050565b6000602082840312156108dd57600080fd5b5035919050565b6000815180845260005b8181101561090a576020818501810151868301820152016108ee565b506000602082860101526020601f19601f83011685010191505092915050565b8681526001600160a01b038616602082015260c060408201819052600090610954908301876108e4565b6060830195909552506080810192909252151560a0909101529392505050565b8051825260018060a01b0360208201511660208301526000604082015160c060408501526109a560c08501826108e4565b9050606083015160608501526080830151608085015260a0830151151560a08501528091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610a2657603f19888603018452610a14858351610974565b945092850192908501906001016109f8565b5092979650505050505050565b602081526000610a466020830184610974565b9392505050565b634e487b7160e01b600052604160045260246000fd5b600060208284031215610a7557600080fd5b813567ffffffffffffffff80821115610a8d57600080fd5b818401915084601f830112610aa157600080fd5b813581811115610ab357610ab3610a4d565b604051601f8201601f19908116603f01168101908382118183101715610adb57610adb610a4d565b81604052828152876020848701011115610af457600080fd5b826020860160208301376000928101602001929092525095945050505050565b600181811c90821680610b2857607f821691505b602082108103610b4857634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600060018201610b8c57610b8c610b64565b5060010190565b602080825260139082015272141bdcdd08191bd95cc81b9bdd08195e1a5cdd606a1b604082015260600190565b601f821115610c0a57600081815260208120601f850160051c81016020861015610be75750805b601f850160051c820191505b81811015610c0657828155600101610bf3565b5050505b505050565b815167ffffffffffffffff811115610c2957610c29610a4d565b610c3d81610c378454610b14565b84610bc0565b602080601f831160018114610c725760008415610c5a5750858301515b600019600386901b1c1916600185901b178555610c06565b600085815260208120601f198616915b82811015610ca157888601518255948401946001909101908401610c82565b5085821015610cbf5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b602081526000610a4660208301846108e4565b8181036000831280158383131683831282161715610d0257610d02610b64565b5092915050565b8082018281126000831280158216821582161715610d2957610d29610b64565b50509291505056fea2646970667358221220e4c1b34881f3efba2664b737bd40698a6c18317180921db8a4f08b2a910db17164736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
